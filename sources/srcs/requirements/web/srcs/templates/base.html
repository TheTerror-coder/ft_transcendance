{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link href="../static/css/loginPage.css" rel="stylesheet">
        <link href="../static/css/homePage.css" rel="stylesheet">
        <link href="../static/css/lobby.css" rel="stylesheet">
        <link href="../static/css/friendPage.css" rel="stylesheet">
        <link href="../static/css/lobby.css" rel="stylesheet">
        <link href="../static/css/profilePage.css" rel="stylesheet">
        
        <title>ONE PONG</title>
        <link rel="icon" type="image/png" href="../media/photos/picturePng/Luffy_flag_icon.png">
        
    </head>
    <body class="background" id="background">
        <div class="headPage">
            <div class="flag" id="flag">
                <button id="englandFlag"><img src="../media/photos/picturePng/loginPage/drapeau/angleterre.png" alt="England Flag" style="margin-right: -4px;" id="englandFlagImg"></button>
                <button id="spainFlag"><img src="../media/photos/picturePng/loginPage/drapeau/Espagne.png" alt="Spain Flag"></button>
                <button id="franceFlag"><img src="../media/photos/picturePng/loginPage/drapeau/France.png" alt="France Flag"></button>
            </div>
        </div>
        <div class="loginPage" id="loginPage">

            <div class="loginButton" id="loginButton">
                <button id="refreshPage"><img src="../media/photos/picturePng/loginPage/onePong.png" alt="ONE PONG" style="min-width: 450px; min-height: 160px;"></button>
            </div>
            <div class="woodPresentation" id="woodPresentation">
                <img src="../media/photos/picturePng/loginPage/woodPresentation.png" alt="woodPresentation" style="margin-top: auto;">
                <div class="woodPresentationContent" id="connect">
                    <button class="fontConnexionWith42" id="connectionApi">CONNECTION API <img src="../media/photos/picturePng/logo42.png" alt="42-logo"  class="logo42"></button>
                    <button class="fontConnexion" id="connectionEmail"  style="margin-top: -8px;">CONNECTION</button>
                    <button class="fontConnexion" id="createAnAccount" style="margin-top: -7px;">CREATE AN ACCOUNT</button>
                    
                    
                    <form class="createAccount" id="formConnect">
                        {% csrf_token %}
                        <p class="fontConnexion">
                            <input id="username" type="username" class="form-control" placeholder="Username" aria-label="Username" style="font-family: arial" required>
                        </p>
                        <p class="fontConnexion">
                            <input id="password" type="password" class="form-control" placeholder="Password" aria-label="Username" style="font-family: arial;" required>
                        </p>
                        <button class="fontConfirmCreateAccount" type="submit" style="justify-content: center; margin-top: -20px; font-size: 300%;">CONFIRM</button>
                    </form>
                    <form class="createAccount" id="formAccount">
                        {% csrf_token %}
                        <p class="fontConnexion">
                            <input id="createEmail" type="email" name="email" class="form-control" placeholder="E-mail" aria-label="Username" style="font-family: arial" required>
                        </p>
                        <p class="fontConnexion">
                            <input id="createUser" name="username" class="form-control" placeholder="User" aria-label="Username" style="font-family: arial" required>
                        </p>
                        <p class="fontConnexion" style="margin-top: -2px;">
                            <input id="createPassword" type="password" name="password" class="form-control" placeholder="Password" aria-label="Username" style="font-family: arial;" required>
                        </p>
                        <p class="fontConnexion" style="margin-top: -3px;">
                            <input id="createConfirmPassword" type="password" name="confirm_password" class="form-control" placeholder="Confirm Password" style="font-family: arial" aria-label="Username" required>
                        </p>
                        <button class="fontConfirmCreateAccount" type="submit">CONFIRM</button>
                    </form>
                </div>
        </div>
        <div class="homePage" id="homePage">
            <div class="rebecca" id="rebecca">
                <img src="../media/photos/picturePng/homePage/rebecca.png" alt="Rebecca" style="margin-top: -10px;" class="rebeccaImg" id="rebeccaImg">
            </div>
            <div class="centerHomepage" id="centerHomepage">
                <div class="playButton" id="playButton">
                    <button class="playImg" id="playButtonImg">PLAY</button>
                </div>
                <div class="addFriend" id="addFriend">
                    <p>SOCIAL</p>
                    <img src="../media/photos/picturePng/homePage/add_friend_button.png" alt="one piece crew !">
                    <p>Friend</p>
                    <form method="post">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="friendUsernameADD">ADD FRIEND</label>
                            <input type="text" class="form-control" placeholder="Enter Username" id="usernameAddFriend" name="username" required>
                        </div>
                        <button type="submit" class="btn btn-primary" id="submitFriendButton">Submit</button>
                    </form>
                </div>
                <div class="playDisplay" id="playDisplay">
                    <button class="rapidPlay" id="rapidPlayButton">RAPID PLAY</button>
                    <button id="tournamentButton">TOURNAMENT</button>
                    <!-- rapidPlayButton -->
                    <button class="joinLobbyButton" id="joinLobbyButton">JOIN LOBBY</button>
                    <button class="createLobbyButton" id="createLobbyButton">CREATE LOBBY</button>
                    <button class="onePlayerButton" id="onePlayerButton">ONE PLAYER</button>
                    <button class="twoPlayerButton" id="twoPlayerButton">TWO PLAYER</button>
                    <button class="captainButton" id="captainButton">CAPTAIN</button>
                    <button class="gunnerButton" id="gunnerButton">GUNNER</button>

                    <!-- TournamentButton -->
                    <button class="createTournamentButton" id="createTournamentButton">CREATE TOURNAMENT</button>
                    <button class="joinTournamentButton" id="joinTournamentButton">JOIN TOURNAMENT</button>
                </div>
                <button class="wantedProfile" id="wantedProfile">
                    <img src="../media/photos/picturePng/homePage/luffy_avatar.png" alt="profile picture" class="profilePicture">
                    <h1 id="usernameDisplay"></h1>
                    <span>10.000</span>
                </button>
            </div>
            <div class="friendButton" id="friendButton">
                <button id="buttonFriend"><img src="../media/photos/picturePng/homePage/add_friend_button.png" alt="add friend"></button>
            </div>
        </div>
        <div class="profilePage" id="profilePage">
            <div style="display: block; flex-direction: column;">
                <div class="friendDisplay" id="friendDisplay">
                    <p>SOCIAL</p>
                    <img src="../media/photos/picturePng/homePage/add_friend_button.png" alt="one piece crew !">
                    <h1>Friends</h1>
                    <div id="listFriend"></div>
                
                    <h1>Pending Friend Requests</h1>
                    <div id="pendingRequests"></div>


                    <form method="post" id="removeFriendForm">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="friendUsernameREMOVE">REMOVE FRIEND</label>
                            <input type="text" class="form-control" placeholder="Enter Username" id="usernameRemoveFriend" name="username" required>
                        </div>
                        <button type="submit" class="btn btn-danger" id="submitRemoveFriendButton">Remove</button>
                    </form>
                    
                </div>
                <button class="wantedProfile" id="wantedInProfilePage">
                    <img src="../media/photos/picturePng/homePage/luffy_avatar.png" alt="profile picture" class="profilePicture">
                    <h1 id="usernameDisplay2"></h1> 
                    <span>10.0</span>
                </button>
            </div>
        </div>
        <video class="videoBackground" id="videoBackground" autoplay muted loop>
            <source src="../media/photos/picturePng/lobbyPage/luffy-vs-usopp.mp4" type="video/mp4">
            <div class="lobbyRapidPlay" id="lobbyRapidPlay">
                <div class="lobbyDisplayRapidPlayOnePlayer" id="lobbyDisplayRapidPlayOnePlayer">
                    <p>WANTED</p>
                </div>
                <div class="lobbyDisplayRapidPlayTwoPlayer" id="lobbyDisplayRapidPlayTwoPlayer">
                    <p> TEST </p>
                </div>
            </div>
        </video>
        <script>
            var registerURL = '{% url 'register' %}';
            var loginURL = '{% url 'login' %}';
            var addFriendURL = '{% url 'add_friend' %}';
            var profileURL = '{% url 'profile' %}';
            var removeFriendURL = '{% url 'remove_friend' %}';
        </script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <!-- SweetAlert2 pour le popup de l'invit, voir avec bootstrap-->
        <script src="../static/scriptJS/variablesLoginPage.js"></script>
        <script src="../static/scriptJS/variablesHomePage.js"></script>
        <script src="../static/scriptJS/variablesLobbyAndTournament.js"></script>
        <script src="../static/scriptJS/profilePage.js"></script>
        <script src="../static/scriptJS/flags.js"></script>
        <script src="../static/scriptJS/formCreateAccount.js"></script>
        <script src="../static/scriptJS/refreshPage.js"></script>
        <script src="../static/scriptJS/connectNormal.js"></script>
        <script src="../static/scriptJS/friendPage.js"></script>
        <script src="../static/scriptJS/playAndLobbyPage.js"></script>
        <script src="../static/scriptJS/path.js"></script>
        <script
        window.onload = function() {
            myFunction();
        };
        const myFunction()
        {
            path = window.location.pathname;
            console.log("path dans myFunction" + path);
            const routes = {
                '/': refreshLoginPage,
                '/login': refreshLoginPage,
                '/homepage': refreshHomePage,
                '/lobby': lobbyDisplay,
            }
            routes[path]
            console.log("routes[path] dans myFunction" + routes[path]);
        }> </script>
    </body>
</html>
